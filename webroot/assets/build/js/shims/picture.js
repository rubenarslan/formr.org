/*! For license information please see picture.js.LICENSE.txt */
!function(e,t,s){"use strict";function n(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function r(e,t,s){var n=t*Math.pow(e-.4,1.9);return l||(n/=1.3),(e+=n)>s}function i(e,t){return e.res-t.res}function a(e,t,s){var n;return!s&&t&&(s=(s=e[E.ns].sets)&&s[s.length-1]),(n=c(t,s))&&(t=E.makeUrl(t),e[E.ns].curSrc=t,e[E.ns].curCan=n,n.res||Z(n,n.set.sizes)),n}function c(e,t){var s,n,r;if(e&&t)for(r=E.parseSet(t),e=E.makeUrl(e),s=0;s<r.length;s++)if(e==E.makeUrl(r[s].url)){n=r[s];break}return n}function o(e,s){var n,r,i,a,c=e.getElementsByTagName("source");for(n=0,r=c.length;r>n;n++)(i=c[n])[E.ns]=!0,a=i.getAttribute("srcset"),RIDEBUG&&9!=t.documentMode&&i.parentNode!=e&&g("all source elements have to be a child of the picture element. For IE9 support wrap them in an audio/video element, BUT with conditional comments"),a&&s.push({srcset:a,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")}),RIDEBUG&&i.getAttribute("src")&&g("`src` on `source` invalid, use `srcset`.");if(RIDEBUG){var o=E.qsa(e,"source, img");"SOURCE"==o[o.length-1].nodeName.toUpperCase()&&g("all sources inside picture have to precede the img element")}}"undefined"==typeof RIDEBUG&&(e.RIDEBUG=!0);var A,u,l,d,m,p,g,h,f,v,w,E={},x=function(){},y=t.createElement("img"),B=y.getAttribute,S=y.setAttribute,b=y.removeAttribute,R=t.documentElement,z={},U={xQuant:1,lazyFactor:.4,maxX:2},T="data-risrc",I=T+"set",D="webkitBackfaceVisibility"in R.style,Q=navigator.userAgent,k=/rident/.test(Q)||/ecko/.test(Q)&&Q.match(/rv\:(\d+)/)&&RegExp.$1>35,C="currentSrc",G=/\s+\+?\d+(e\d+)?w/,M=/((?:\([^)]+\)(?:\s*and\s*|\s*or\s*|\s*not\s*)?)+)?\s*(.+)/,L=/^([\+eE\d\.]+)(w|x)$/,_=/\s*\d+h\s*/,$=e.respimgCFG,F="https:"==location.protocol,P="font-size:100%!important;",N=!0,V={},W={},j=e.devicePixelRatio,H={px:1,in:96},O=t.createElement("a"),q=!1,J=function(e,t,s,n){e.addEventListener?e.addEventListener(t,s,n||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Y=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},X=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=Y((function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")}));return function(s,n){var r;if(!(s in V))if(V[s]=!1,n&&(r=s.match(e)))V[s]=r[1]*H[r[2]];else try{V[s]=new Function("e",t(s))(H)}catch(e){}return V[s]}}(),Z=function(e,t){return e.w?(e.cWidth=E.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.x,e},K=function(s){var n,r,i,a=s||{};if(a.elements&&1==a.elements.nodeType&&("IMG"==a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),a.reparse&&(a.reevaluate=!0,e.console&&console.warn&&console.warn("reparse was renamed to reevaluate!")),i=(n=a.elements||E.qsa(a.context||t,a.reevaluate||a.reselect?E.sel:E.selShort)).length){for(E.setupRun(a),q=!0,r=0;i>r;r++)E.fillImg(n[r],a);E.teardownRun(a)}},ee=Y((function(e){var t=[1,"x"],s=n(e||"");return s&&((s=s.replace(_,"")).match(L)?(t=[1*RegExp.$1,RegExp.$2],RIDEBUG&&(t[0]<0||isNaN(t[0])||"w"==t[1]&&/\./.test(""+t[0]))&&g("bad descriptor: "+e)):(t=!1,RIDEBUG&&g("unknown descriptor: "+e))),t}));RIDEBUG&&(g=e.console&&console.warn?function(e){console.warn(e)}:x),C in y||(C="src"),z["image/jpeg"]=!0,z["image/gif"]=!0,z["image/png"]=!0,z["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),E.ns=("ri"+(new Date).getTime()).substr(0,9),E.supSrcset="srcset"in y,E.supSizes="sizes"in y,E.selShort="picture>img,img[srcset]",E.sel=E.selShort,E.cfg=U,E.supSrcset&&(E.sel+=",img["+I+"]"),E.DPR=j||1,E.u=H,E.types=z,f=E.supSrcset&&!E.supSizes,E.setSize=x,E.makeUrl=Y((function(e){return O.href=e,O.href})),E.qsa=function(e,t){return e.querySelectorAll(t)},E.matchesMedia=function(){return E.matchesMedia=e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(e){return!e||matchMedia(e).matches}:E.mMQ,E.matchesMedia.apply(this,arguments)},E.mMQ=function(e){return!e||X(e)},E.calcLength=function(e){var t=X(e,!0)||!1;return 0>t&&(t=!1),RIDEBUG&&(!1===t||0>t)&&g("invalid source size: "+e),t},E.supportsType=function(e){return!e||z[e]},E.parseSize=Y((function(e){var t=(e||"").match(M);return{media:t&&t[1],length:t&&t[2]}})),E.parseSet=function(e){if(!e.cands){var t,s,n,r,i,a,c=e.srcset;for(e.cands=[];c;)n=null,-1!=(t=(c=c.replace(/^\s+/g,"")).search(/\s/g))?(","!=(s=c.slice(0,t)).charAt(s.length-1)&&s||(s=s.replace(/,+$/,""),n=""),c=c.slice(t+1),null==n&&(-1!=(r=c.indexOf(","))?(n=c.slice(0,r),c=c.slice(r+1)):(n=c,c=""))):(s=c,c=""),s&&(n=ee(n))&&(RIDEBUG&&(a||(a=e.sizes?"w":n[1]),a!=n[1]&&g("mixing x with a w descriptor/sizes attribute in one srcset doesn't make sense in most cases and is invalid.")),(i={url:s.replace(/^,+/,""),set:e})[n[1]]=n[0],"x"==n[1]&&1==n[0]&&(e.has1x=!0),e.cands.push(i))}return e.cands},E.getEmValue=function(){var e;if(!h&&(e=t.body)){var s=t.createElement("div"),n=R.style.cssText,r=e.style.cssText;s.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",R.style.cssText=P,e.style.cssText=P,e.appendChild(s),h=s.offsetWidth,e.removeChild(s),h=parseFloat(h,10),R.style.cssText=n,e.style.cssText=r}return h||16},E.calcListLength=function(e){if(!(e in W)||U.uT){var t,s,r,i,a,c,o=n(e).split(/\s*,\s*/),A=!1;for(a=0,c=o.length;c>a&&(t=o[a],r=(s=E.parseSize(t)).length,i=s.media,!r||!E.matchesMedia(i)||!1===(A=E.calcLength(r)));a++);W[e]=A||H.width}return W[e]},E.setRes=function(e){var t;if(e)for(var s=0,n=(t=E.parseSet(e)).length;n>s;s++)Z(t[s],e.sizes);return t},E.setRes.res=Z,E.applySetCandidate=function(e,t){if(e.length){var s,n,c,o,l,h,f,v,x,y,B,S,b,R=t[E.ns],z=w,U=d,T=p;if(v=R.curSrc||t[C],x=R.curCan||a(t,v,e[0].set),n=E.DPR,b=x&&x.res,!f&&v&&((S=k&&!t.complete&&x&&b-.2>n)||x&&!(m>b)||(x&&n>b&&b>A&&(u>b&&(U*=.8,T+=.04*n),x.res+=U*Math.pow(b-T,2)),y=!R.pic||x&&x.set==e[0].set,x&&y&&x.res>=n&&(f=x))),!f)for(b&&(x.res=x.res-(x.res-b)/2),e.sort(i),f=e[(h=e.length)-1],c=0;h>c;c++)if((s=e[c]).res>=n){f=e[o=c-1]&&(l=s.res-n)&&(S||v!=E.makeUrl(s.url))&&r(e[o].res,l,n)?e[o]:s;break}return b&&(x.res=b),f&&(B=E.makeUrl(f.url),R.curSrc=B,R.curCan=f,B!=v&&(E.setSrc(t,f),RIDEBUG&&(te(t,f),F&&!f.url.indexOf("http:")&&g("insecure: "+B))),E.setSize(t)),z}},E.setSrc=function(e,t){var s;e.src=t.url,D&&(s=e.style.zoom,e.style.zoom="0.999",e.style.zoom=s)},E.getSet=function(e){var t,s,n,r=!1,i=e[E.ns].sets;for(t=0;t<i.length&&!r;t++)if((s=i[t]).srcset&&E.matchesMedia(s.media)&&(n=E.supportsType(s.type))){"pending"==n&&(s=n),r=s;break}return r},E.parseSets=function(e,t,n){var r,i,a,A,u="PICTURE"==t.nodeName.toUpperCase(),l=e[E.ns];(l.src===s||n.src)&&(l.src=B.call(e,"src"),l.src?S.call(e,T,l.src):b.call(e,T)),(l.srcset===s||!E.supSrcset||e.srcset||n.srcset)&&(r=B.call(e,"srcset"),l.srcset=r,A=!0),l.sets=[],u&&(l.pic=!0,o(t,l.sets)),l.srcset?(i={srcset:l.srcset,sizes:B.call(e,"sizes")},l.sets.push(i),(a=(f||l.src)&&G.test(l.srcset||""))||!l.src||c(l.src,i)||i.has1x||(i.srcset+=", "+l.src,i.cands.push({url:l.src,x:1,set:i})),RIDEBUG&&!u&&a&&l.src&&-1==i.srcset.indexOf(e[E.ns].src)&&g("The fallback candidate (`src`) isn't described inside the srcset attribute. Normally you want to describe all available candidates.")):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=s,l.supported=!(u||i&&!E.supSrcset||a),A&&E.supSrcset&&!l.supported&&(r?(S.call(e,I,r),e.srcset=""):b.call(e,I)),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!=E.makeUrl(l.src))&&(null==l.src?e.removeAttribute("src"):e.src=l.src),RIDEBUG&&se(l.sets,"source"),l.parsed=!0},E.fillImg=function(e,t){var s,n,r=t.reselect||t.reevaluate;if(e[E.ns]||(e[E.ns]={}),n=e[E.ns],r||n.evaled!=w){if(!n.parsed||t.reevaluate){if(!(s=e.parentNode))return;E.parseSets(e,s,t)}n.supported?n.evaled=w:function(e){var t,s=E.getSet(e),n=!1;"pending"!=s&&(n=w,s&&(t=E.setRes(s),n=E.applySetCandidate(t,e))),e[E.ns].evaled=n}(e)}},E.setupRun=function(t){(!q||N||j!=e.devicePixelRatio)&&(function(){var t;N=!1,j=e.devicePixelRatio,V={},W={},t=(j||1)*U.xQuant,U.uT||(U.maxX=Math.max(1.3,U.maxX),t=Math.min(t,U.maxX),E.DPR=t),H.width=Math.max(e.innerWidth||0,R.clientWidth),H.height=Math.max(e.innerHeight||0,R.clientHeight),H.vw=H.width/100,H.vh=H.height/100,H.em=E.getEmValue(),H.rem=H.em,d=(d=U.lazyFactor/2)*t+d,p=.4+.1*t,A=.5+.2*t,u=.5+.25*t,m=t+1.3,(l=H.width>H.height)||(d*=.9),k&&(d*=.9),w=[H.width,H.height,t].join("-")}(),t.elements||t.context||clearTimeout(v))},e.HTMLPictureElement?(K=x,E.fillImg=x):(t.createElement("picture"),function(){var s,n=e.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var e=t.readyState||"";a=setTimeout(r,"loading"==e?200:999),t.body&&(s=s||n.test(e),E.fillImgs(),s&&clearTimeout(a))},i=function(){E.fillImgs()},a=setTimeout(r,t.body?0:20);J(e,"resize",(function(){clearTimeout(v),N=!0,v=setTimeout(i,99)})),J(t,"readystatechange",r)}()),E.respimage=K,E.fillImgs=K,E.teardownRun=x,K._=E,e.respimage=K,e.respimgCFG={ri:E,push:function(e){var t=e.shift();"function"==typeof E[t]?E[t].apply(E,e):(U[t]=e[0],q&&E.fillImgs({reselect:!0}))}};for(;$&&$.length;)e.respimgCFG.push($.shift());if(RIDEBUG){g("Responsive image debugger active. Do not use in production, because it slows things down! extremly"),(!t.querySelector||(t.documentMode||9)<8)&&g("querySelector is needed. IE8 needs to be in strict, standard or edge mode: http://bit.ly/1yGgYU0 or try the ri.oldie.js plugin."),"<PICTURE>"==(t.getElementsByTagName("picture")[0]||{}).outerHTML&&g("IE8 needs to picture shived. Either include respimage.js in <head> or use html5shiv."),"BackCompat"==t.compatMode&&g("Browser is in quirksmode. Please make sure to be in strict mode.");var te=function(e,t){var s=function(){var n,r=e.offsetWidth,i=e.naturalWidth,a=t.cWidth,c=E.DPR*U.xQuant;!a&&i&&t.x&&(a=i/c),r&&a&&(r>a?n=a/r:n=r/a,Math.abs(r-a)>50&&(t.w&&.86>n?g("Check your sizes attribute: "+t.set.sizes+" was calculated to: "+a+"px. But your image is shown with a size of "+r+"px. img: "+t.url):t.x)),function(e,t,s){e.removeEventListener?e.removeEventListener(t,s,!1):e.detachEvent&&e.detachEvent("on"+t,s)}(e,"load",s)};J(e,"load",s)},se=function(){var e=/^\s*\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)\s*$/,t=/^\s*\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)\s*$/,s=function(e,t,s,n){var r,i;for(r=0;s>r&&r<t.length;r++)i=t[r],(e._min&&i._min&&e._min>=i._min||e._max&&i._max&&e._max<=i._max)&&g("source"==n?"Order of your source elements matters. Defining "+e.media+" after "+i.media+" doesn't make sense.":"Order inside your sizes attribute does matter. Defining "+e.media+" after "+i.media+" doesn't make sense.")},r=function(n,r){var i,a,c,o;for((o=n[n.length-1])&&(o.media||o.type)&&g("source"==r?"The last src/srcset shouldn't have any type or media conditions. Use img[src] or img[srcset].":"Last sizes attribute shouldn't have any condition otherwise 100vw is used."),i=0,a=n.length;a>i;i++)(c=n[i]).media&&!c.type?(c._min=c.media.match(e)&&parseFloat(RegExp.$1)+(RegExp.$2||""),c._max=c.media.match(t)&&parseFloat(RegExp.$1)+(RegExp.$2||""),c._min&&(c._min=parseFloat(c._min,10)*(c._min.indexOf("em")>0?E.getEmValue():1)),c._max&&(c._max=parseFloat(c._max,10)*(c._max.indexOf("em")>0?E.getEmValue():1)),(c._min||c._max)&&s(c,n,i,r)):c.type||i==a-1||g("source"==r?"A source element without [media] and [type] doesn't make any sense. Last srcset can be used at the img element. Order is important!":"The order of your sizes attribute does matter! The sizes length without a media condition has to be defined as last entry.")};return function(e){var t,s,i,a,c;for(r(e,"source"),t=0,s=e.length;s>t;t++)if(i=n(e[t].sizes||"")){for(c=[],i=i.split(/\s*,\s*/),a=0;a<i.length;a++)i[a]&&c.push(E.parseSize(i[a]));c.length&&r(c,"sizes")}}}()}}(window,document),function(){"use strict";var e,t=0,s=function(){window.respimage&&function(e){var t=window.document,s=e._,n={},r=s.cfg,i=function(e,t,s){var n=s.curCan;e&&t.setAttribute("width",parseInt(e/n.res,10))},a=function(e,s,r){var a,c,o;e in n?i(n[e],s,r):(o=function(){r.pendingURLSize=null,a.onload=null,a.onerror=null,s=null,a=null},r.pendingURLSize=e,(c=r.curCan).w&&i(c.w,s,r),(a=t.createElement("img")).onload=function(){if(n[e]=a.naturalWidth||a.width,!n[e])try{t.body.appendChild(a),n[e]=a.offsetWidth||a.naturalWidth||a.width,t.body.removeChild(a)}catch(e){}e==s.src&&i(n[e],s,r),o()},a.onerror=o,a.src=e,a&&a.complete&&a.onload())},c=function(){var e,n,i=function(){var r,i,a,c=t.getElementsByTagName("img"),o={elements:[]};for(s.setupRun(o),e=!1,clearTimeout(n),r=0,i=c.length;i>r;r++)(a=c[r][s.ns])&&a.curCan&&(s.setRes.res(a.curCan,a.curCan.set.sizes),s.setSize(c[r]));s.teardownRun(o)};return function(){!e&&r.addSize&&(e=!0,clearTimeout(n),n=setTimeout(i))}}();s.setSize=function(e){var t,n=e[s.ns],i=n.curCan;undefined===n.dims&&(n.dims=e.getAttribute("height")&&e.getAttribute("width")),r.addSize&&i&&!n.dims&&(t=s.makeUrl(i.url))==e.src&&t!==n.pendingURLSize&&a(t,e,n)},window.addEventListener&&!window.HTMLPictureElement&&addEventListener("resize",c,!1),r.addSize=!("addSize"in r)||!!r.addSize,c()}(window.respimage),(window.respimage||t>9999)&&clearInterval(e),t++};e=setInterval(s,8),s()}(),function(){"use strict";var e,t=0,s=function(){window.respimage&&function(e){var t=e._,s=0,n=function(e,s){var n;for(n=0;n<e.length;n++)t.types[e[n]]=s};window.HTMLPictureElement&&!t.cfg.uT?e.testTypeSupport=function(){}:(t.types["image/bmp"]=!0,t.types["image/x-bmp"]=!0,e.testTypeSupport=function(t,r,i,a){"string"==typeof t&&(t=t.split(/\s*\,*\s+/g));var c,o="pending",A=document.createElement("img"),u=function(){s--,n(t,o),1>s&&e({reevaluate:!0})};return a&&!(c=document.createElement("canvas")).getContext?void n(t,!1):(A.onload=function(){var e;o=!0,i&&(o=A.width==i),a&&((e=c.getContext("2d")).drawImage(A,0,0),o=0===e.getImageData(0,0,1,1).data[3]),u()},A.onerror=function(){o=!1,u()},s++,n(t,"pending"),void(A.src=r))},e.testTypeSupport("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",1),e.testTypeSupport("image/jp2 image/jpx image/jpm","data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k=",1),e.testTypeSupport("image/vnd.ms-photo","data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA==",1),e.testTypeSupport("video/vnd.mozilla.apng video/x-apng video/png video/apng video/x-mng video/x-png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==",!1,!0))}(window.respimage),(window.respimage||t>9999)&&clearInterval(e),t++};e=setInterval(s,8),s()}(),webshim.isReady("picture",!0),webshim.addReady((function(e){e.querySelector("picture, img[srcset]")&&window.respimage()}));