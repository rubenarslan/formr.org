webshim.register("usermedia-core",(function(e,r,t,i){"use strict";var a=r.prefixed("srcObject",i.createElement("video"));if("srcObject"!=a){var s=!(!t.URL||!URL.createObjectURL);r.defineNodeNamesProperty(["audio","video"],"srcObject",{prop:{get:function(){return this[a]||null},set:function(r){a?e.prop(this,a,r):e.prop(this,"src",s?URL.createObjectURL(r):r)}}})}!function(){var e={},r=URL.createObjectURL,t=URL.revokeObjectURL;URL.createObjectURL=function(t){var i=t;return r&&!t._wsStreamId?i=r.apply(this,arguments):t._wsStreamId&&(i=t._wsStreamId,e[i]=t),i},URL.revokeObjectURL=function(r){if(e[r])delete e[r];else if(t)return t.apply(this,arguments)}}(),r.ready(r.modules["usermedia-shim"].loaded?"usermedia-api":"usermedia-shim",(function(){navigator.getUserMedia=navigator[r.prefixed("getUserMedia",navigator)]}))}));