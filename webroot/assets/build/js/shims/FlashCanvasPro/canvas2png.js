!function(e){var t=e.getElementsByTagName("script"),a=t[t.length-1].getAttribute("src").replace(/[^\/]+$/,"save.php");window.canvas2png=function(t,n){if("canvas"===t.tagName.toLowerCase())if("undefined"!=typeof FlashCanvas)FlashCanvas.saveImage(t,n);else{var i=a;n&&(i+="?filename="+n);var s=e.createElement("form"),r=e.createElement("input");s.setAttribute("action",i),s.setAttribute("method","post"),r.setAttribute("type","hidden"),r.setAttribute("name","dataurl"),r.setAttribute("value",t.toDataURL()),e.body.appendChild(s),s.appendChild(r),s.submit(),s.removeChild(r),e.body.removeChild(s)}}}(document);