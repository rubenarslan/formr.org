webshim.register("sticky",(function(t,i,s,e,o,a){"use strict";function h(t,i,s){var o=t+":",a=e.createElement("test").style;return a.cssText=s?o+i:o+["-webkit-","-moz-","-ms-","-o-",""].join(i+";"+o)+i+";",a[t]}function n(){return{top:t.css(this,"top"),bottom:t.css(this,"bottom")}}function d(i){p++,this.evtid=".wsstickyid"+p,this.$el=t(i).data("wsSticky",this),this.isTable=this.$el.is("thead, tbody, tfoot"),this.$parent=this.$el.parent(),this.elStyle=i.style,this.ankered="",this.isSticky=!1,this.$placeholder=null,this.stickyData={inline:{}},this.parentData={},this.getParentData=this.getCommonParentData,this.addEvents(),this.update(!0)}function r(i){p++,this.evtid=".wsstickyid"+p,this.$el=t(i).data("wsSticky",this),this.isTable=this.$el.is("thead, tbody, tfoot"),this.$parent=this.$el.parent(),this.elStyle=i.style,this.ankered="",this.isSticky=!1,this.$placeholder=null,this.stickyData={inline:{}},this.parentData={},"static"==this.$parent.css("position")&&this.$parent.css("position","relative"),this.updatePos2=this.updatePos2.bind(this),this.addEvents(),this.update(!0)}var p=0,l=t(s),c=function(){var t,i="pageYOffset";return i in s?function(){return s[i]}:(t=e.documentElement,function(){return t.scrollTop})}(),y="ontouchstart"in s||s.matchMedia("(max-device-width: 721px)").matches,f=h("position","fixed",!0),m=h("position","sticky"),k={getPosition:function(){this.isSticky||(this.position={top:this.$el.css("top"),bottom:this.$el.css("bottom")},("auto"!=this.position.top&&"auto"!=this.position.bottom||"auto"==this.position.top&&"auto"==this.position.bottom)&&"static"==this.$el.css("position")&&(this.position=t.swap(this.$el[0],{position:"absolute"},n)),"auto"!==this.position.top?this.ankered="top":"auto"!==this.position.bottom&&(this.ankered="bottom"),"top"==this.ankered?this.position.top=parseFloat(this.position.top,10)||0:"bottom"==this.ankered&&(this.position.bottom=parseFloat(this.position.bottom,10)||0))},update:function(t){!this.disabled&&this.$el[0].offsetWidth&&(t&&(this.isSticky&&this.removeSticky(),this.getPosition()),this.updateDimension())},setTdWidth:function(){this.isTable&&this.$el.find("td, th").each(this._setInlineWidth)},_setInlineWidth:function(){t.data(this,"inlineWidth",this.style.width),t(this).innerWidth(t(this).innerWidth())},_restoreInlineWidth:function(){this.style.width=t.data(this,"inlineWidth")||"",t.removeData(this,"inlineWidth")},removeSticky:function(){this.$el.removeClass("ws-sticky-on"),this.$el.css(this.stickyData.inline),this.$placeholder.detach(),this.isSticky=!1,this.isTable&&this.$el.find("td, th").each(this._restoreInlineWidth)},commonAddEvents:function(){var i,o=this,a=function(){o.update()},h=this.$el.data("stickymedia"),n=!(!s.matchMedia||!h)&&matchMedia(h);l.one("load",a),t(e).on("updateshadowdom"+this.evtid,a),this.$el.on("updatesticky"+this.evtid,(function(t){o.update(!0),t.stopPropagation()})),this.$el.on("disablesticky"+this.evtid,(function(t){o.disable(!0),t.stopPropagation()})),this.$el.on("enablesticky"+this.evtid,(function(t){o.disable(!1),t.stopPropagation()})),this.$el.on("remove"+this.evtid+" destroysticky"+this.evtid,(function(i){l.off(o.evtid),t(e).off(o.evtid),o.$el.off(o.evtid),o.$parent.off(o.evtid),o.$el.removeData("wsSticky").removeClass("ws-sticky"),o.$placeholder&&(o.$el.removeClass("ws-sticky-on"),o.$placeholder.remove()),i.stopPropagation()})),n&&n.addListener&&(i=function(){o.disable(!n.matches)},n.addListener(i),i())},disable:function(t){return arguments.length?void(this.disabled!=t&&(this.disabled=!!t,this.disabled?this.isSticky&&this.removeSticky():this.update(!0))):this.disabled},setSticky:function(){this.$placeholder||(this.$placeholder=t(this.isTable?this.$el[0].cloneNode(!0):e.createElement(this.$el[0].nodeName||"div")),this.$placeholder.addClass("ws-fixedsticky-placeholder").removeClass("ws-sticky")),this.setTdWidth(),this.$placeholder.insertAfter(this.$el).outerHeight(this.stickyData.outerHeight,!0).outerWidth(this.stickyData.outerWidth),this.isSticky=!0,this.$el.addClass("ws-sticky-on"),this.isTable||this.stickyData.width!=this.$el.width()&&this.$el.width(this.stickyData.width)},getCommonStickyData:function(){var t=parseFloat(this.$el.css("marginTop"),10)||0;this.stickyData.scrollTop=this.stickyData.top-t,this.stickyData.outerHeight=this.$el.outerHeight(!0),this.stickyData.bottom=this.stickyData.top+this.stickyData.outerHeight-t,this.stickyData.width=this.$el.width(),this.stickyData.outerWidth=this.$el.outerWidth(),this.stickyData.marginLeft=parseFloat(this.$el.css("marginLeft"),10)||0,this.stickyData.offsetLeft=this.$el[0].offsetLeft,this.stickyData.inline.width=this.elStyle.width,this.stickyData.inline.marginLeft=this.elStyle.marginLeft,"top"==this.ankered?this.stickyData.inline.top=this.elStyle.top:"bottom"==this.ankered&&(this.stickyData.inline.bottom=this.elStyle.bottom)},getCommonParentData:function(){this.parentData.paddingTop=parseFloat(this.$parent.css("paddingTop"),10)||0,this.parentData.offsetTop=this.$parent.offset().top,this.parentData.top=this.parentData.offsetTop+(parseFloat(this.$parent.css("borderTopWidth"),10)||0)+this.parentData.paddingTop,this.parentData.height=this.$parent.height(),this.parentData.bottom=this.parentData.top+this.parentData.height}};if(!y||"disable"!=a.touchStrategy){t.extend(d.prototype,k,{addEvents:function(){var t=this;this.commonAddEvents(),l.on("scroll"+this.evtid,(function(){!t.disabled&&t.ankered&&t.$el[0].offsetWidth&&t.updatePos()}))},getStickyData:function(){this.stickyData.top=this.$el.offset().top,this.getCommonStickyData()},updateDimension:function(t){this.isSticky&&this.removeSticky(),this.getParentData(),this.getStickyData(),"bottom"==this.ankered&&(this.viewportBottomAnker=l.height()-this.position.bottom),!t&&this.ankered&&this.updatePos(!0)},updatePos:function(t){var i,s,e,o=c();"top"==this.ankered?(i=o+this.position.top,this.stickyData.scrollTop<i&&o-9<=this.parentData.bottom&&(e=-1*(i+this.stickyData.outerHeight-this.parentData.bottom),s=!0)):"bottom"==this.ankered&&(i=o+this.viewportBottomAnker,this.stickyData.bottom>i&&i+9>=this.parentData.top&&(s=!0,e=i-this.parentData.top-this.stickyData.outerHeight)),s?(this.isSticky||(t||this.updateDimension(!0),this.setSticky()),0>e&&("top"==this.ankered?this.elStyle.top=this.position.top+e+"px":"bottom"==this.ankered&&(this.elStyle.bottom=this.position.bottom+e+"px"))):this.isSticky&&this.removeSticky()}}),t.extend(r.prototype,k,{addEvents:function(){var t=this;this.commonAddEvents(),this.$parent.on("scroll"+this.evtid,(function(){t.ankered&&t.$el[0].offsetWidth&&t.updatePos()}))},getStickyData:function(){this.stickyData.top=this.$el[0].offsetTop,this.getCommonStickyData()},getParentData:function(){this.getCommonParentData(),this.parentData.offsetBottom=this.parentData.top+this.$parent.outerHeight()},updateDimension:function(t){var i;this.isSticky&&this.removeSticky(),this.getParentData(),this.getStickyData(),this.viewport=l.height(),"top"==this.ankered?i=Math.abs(this.position.top)+9:"bottom"==this.ankered&&(i=Math.abs(this.position.bottom)+9,this.viewportBottomAnker=this.viewport-this.parentData.bottom,this.compareBottom=this.stickyData.bottom+this.position.bottom,this.addBottom=this.parentData.bottom-this.parentData.paddingTop-this.viewport),this.viewPortMax=this.parentData.offsetBottom+i+10,this.viewPortMin=this.parentData.offsetTop-i-this.viewport,t||this.updatePos(!0)},updatePos:function(t){var i,s,e=this.$parent[0].scrollTop;"top"==this.ankered?(i=e+this.position.top,this.stickyData.scrollTop-this.parentData.paddingTop<i&&(s=!0)):"bottom"==this.ankered&&e+this.parentData.height<this.compareBottom&&(s=!0),s?this.isSticky||(t||this.updateDimension(!0),this.setSticky(),l.off("scroll"+this.evtid,this.updatePos2).on("scroll"+this.evtid,this.updatePos2),this.updatePos2(!0)):this.isSticky&&(this.removeSticky(),l.off("scroll"+this.evtid,this.updatePos2))},updatePos2:function(t){var i=c();(!0===t||this.viewPortMax>i&&i>this.viewPortMin)&&("top"==this.ankered?(!0===t||this.viewPortMax>i&&i>this.viewPortMin)&&(this.elStyle.top=this.position.top+this.parentData.top-i+"px"):"bottom"==this.ankered&&(this.elStyle.bottom=this.position.bottom+(i-this.addBottom)+"px"))}});var u=function(){u=t.noop,i.ready("WINDOWLOAD",(function(){i.loader.loadList(["dom-extend"]),i.ready("dom-extend",(function(){i.addShadowDom()}))}))},D=function(){var i=t.data(this,"wsSticky");if(i)i.disable&&i.disable(!1);else{var s=t(this).parent();t(this).addClass("ws-sticky"),"visible"==(s.css("overflowY")||s.css("overflow")||"visible")?new d(this):new r(this),u()}};if(!m&&f){var v={},b=function(s,e){var o,a,h,n=[];for(v[s]||(v[s]={sels:{},string:"",fn:function(i,e){var o=t(v[s].string,i).add(e.filter(v[s].string));s&&o.data("stickymedia",s),o.each(D)}},a=!0),o=0;o<e.length;o++)v[s].sels[e[o]]||(v[s].sels[e[o]]=!0,n.push(e[o]));(a||n.length)&&(v[s].string=Object.keys(v[s].sels).join(", "),a?t((function(){i.addReady(v[s].fn)})):t.isReady&&(h=t(n.join(", ")),s&&h.data("stickymedia",s),h.each(D)))};if(b("",[".ws-sticky"]),t((function(){t(e).on("wssticky",(function(t){D.call(t.target)}))})),a.parseCSS)if(s.Polyfill&&Polyfill.prototype&&Polyfill.prototype.doMatched){var g=function(t){var i=t.getSelectors().split(/\,\s*/g),s=t._rule.media&&t._rule.media.length?t.getMedia():"";b(s||"",i)};Polyfill({declarations:["position:sticky"]}).doMatched((function(t){t.each(g)}))}else i.warn("Polyfill for CSS polyfilling made easy has to be included")}"complete"==e.readyState&&i.isReady("WINDOWLOAD",!0)}}));