webshims.register("jmebase",(function(e,t,i,a,s){"use strict";var r={},n={},o=Array.prototype.slice,l=0,d=e.extend({selector:".mediaplayer"},t.cfg.mediaelement.jme),c=d.selector;t.cfg.mediaelement.jme=d,e.jme||(e.jme={}),e.extend(e.jme,{pluginsClasses:[],pluginsSel:"",plugins:{},props:r,fns:n,data:function(t,i,a){var r=e(t).data("jme")||e.data(t,"jme",{});return a===s?i?r[i]:r:void(r[i]=a)},runPlugin:function(t){l&&e(document.querySelectorAll(c)).each((function(){var i=this.querySelectorAll(t);i.length&&e(this).jmeFn("addControls",i)}))},registerPlugin:function(t,i){this.plugins[t]=i,i.nodeName||(i.nodeName=""),i.className||(i.className=t),this.pluginsClasses.push("."+i.className),this.pluginsSel=this.pluginsClasses.join(", "),d[t]=e.extend(i.options||{},d[t]),d[t]&&d[t].text?i.text=d[t].text:d.i18n&&d.i18n[t]&&(i.text=d.i18n[t]),this.runPlugin("."+i.className)},configmenuPlugins:{},addToConfigmenu:function(e,t){this.configmenuPlugins[e]=t},defineMethod:function(e,t){n[e]=t},defineProp:function(t,i){i||(i={}),i.set||(i.set=i.readonly?function(){throw t+" is readonly"}:e.noop),i.get||(i.get=function(i){return e.jme.data(i,t)}),r[t]=i},prop:function(t,i,a){if(!r[i])return e.prop(t,i,a);if(a===s)return r[i].get(t);var n=r[i].set(t,a);n===s&&(n=a),"noDataSet"!=n&&e.jme.data(t,i,n)}}),e.fn.jmeProp=function(t,i){return e.access(this,e.jme.prop,t,i,arguments.length>1)},e.fn.jmeFn=function(i){var a,r=o.call(arguments,1);return this.each((function(){return e.jme.data(this).media||(e(this).closest(c).jmePlayer(),t.warn("jmeFn called to early or on wrong element!")),(a=(n[i]||e.prop(this,i)).apply(this,r))===s&&void 0})),a!==s?a:this};var p={emptied:1,pause:1},u={canplay:1,canplaythrough:1};e.jme.initJME=function(t,i){l+=e(t.querySelectorAll(c)).add(i.filter(c)).jmePlayer().length},e.jme.getDOMList=function(t){var i=[];return t||(t=[]),"string"==typeof t&&(t=t.split(" ")),e.each(t,(function(e,t){t&&(t=document.getElementById(t))&&i.push(t)})),i},e.jme.getButtonText=function(t,i){var a,s;return t.is('[type="checkbox"], [type="radio"]')?(t.prop("checked",(function(){return this.defaultChecked})),a=!0):t.is("a")&&t.on("click",(function(e){e.preventDefault()})),function(r){s!==r&&(s=r,t.removeClass(i[r?0:1]).addClass(i[r]),a&&(t.prop("checked",!!r),(t.data("checkboxradio")||{refresh:e.noop}).refresh()))}},e.fn.jmePlayer=function(){return this.each((function(){var t,i,a,s,r,n,o=e("audio, video",this).eq(0),l=e(this),d=e.jme.data(this),c=e.jme.data(o[0]);l.addClass(o.prop("nodeName").toLowerCase()+"player"),c.player=l,c.media=o,d.media||(n=function(){l[0].className=l[0].className},a=function(){o.off("canplay",i),clearTimeout(s)},i=function(){var e=o.prop("paused")?"idle":"playing";l.attr("data-state",e)},t=function(t){var d,c,m=t.type;a(),u[m]&&"waiting"!=r||("ended"==m||e.prop(this,"ended")?m="ended":"waiting"==m?e.prop(this,"readyState")>2?m="":(s=setTimeout((function(){o.prop("readyState")>2&&i()}),9),o.on("canPlay",i)):p[m]?m="idle":(d=e.prop(this,"readyState"),m=!(c=e.prop(this,"paused"))&&3>d?"waiting":!c&&d>2?"playing":"idle"),"idle"==m&&l._seekpause&&(m=!1),m&&(r=m,l.attr("data-state",m),setTimeout(n)))},d.media=o,d.player=l,o.on("emptied waiting canplay canplaythrough playing ended pause mediaerror",t).on("volumechange updateJMEState",(function(){var t=e.prop(this,"volume");l[!t||e.prop(this,"muted")?"addClass":"removeClass"]("state-muted"),t=.01>t?"no":.36>t?"low":.7>t?"medium":"high",l.attr("data-volume",t)})),e.jme.pluginsSel&&l.jmeFn("addControls",e(l[0].querySelectorAll(e.jme.pluginsSel))),t&&o.on("updateJMEState",t).triggerHandler("updateJMEState"))}))},e.jme.defineProp("isPlaying",{get:function(t){return!e.prop(t,"ended")&&!e.prop(t,"paused")&&e.prop(t,"readyState")>1&&!e.data(t,"mediaerror")},readonly:!0}),e.jme.defineProp("player",{readonly:!0}),e.jme.defineProp("media",{readonly:!0}),e.jme.defineProp("srces",{get:function(t){var i=e.jme.data(t),a=i.media.prop("src");return a?[{src:a}]:e.map(e("source",i.media).get(),(function(t){var i,a,s={src:e.prop(t,"src")},r=t.attributes;for(i=0,a=r.length;a>i;i++)"specified"in r[i]&&!r[i].specified||(s[r[i].nodeName]=r[i].nodeValue);return s}))},set:function(t,i){var a=e.jme.data(t),s=function(t,i){"string"==typeof i&&(i={src:i}),e(document.createElement("source")).attr(i).appendTo(a.media)};return a.media.removeAttr("src").find("source").remove(),e.isArray(i)?e.each(i,s):s(0,i),a.media.jmeFn("load"),"noDataSet"}}),e.jme.defineMethod("togglePlay",(function(){e(this).jmeFn(r.isPlaying.get(this)?"pause":"play")})),e.jme.defineMethod("addControls",(function(t){var i=e.jme.data(this)||{};if(i.media){var a=e.jme.data(i.player[0],"controlElements")||e([]);t=e(t),e.jme.pluginsSel&&(t=t.find(e.jme.pluginsSel).add(t.filter(e.jme.pluginsSel))),t.length&&(e.each(e.jme.plugins,(function(a,s){var r,n,o,l,d=t.filter("."+s.className);for(o=0;o<d.length;o++)if(r=e(d[o]),(n=e.jme.data(d[o])).player=i.player,n.media=i.media,!n._rendered){if(n._rendered=!0,s.options)for(l in s.options)l in n||(n[l]=s.options[l]);s._create(r,i.media,i.player,n)}})),e.jme.data(i.player[0],"controlElements",a.add(t)),i.player.triggerHandler("controlsadded"))}})),t.ready("DOM mediaelement",(function(){t.isReady("jme",!0),t.addReady(e.jme.initJME),t.isReady("jme-base",!0),!1!==t.cfg.debug&&document.getElementsByTagName("video").length&&!document.querySelector(c)&&t.warn("found video element but video wasn't wrapped inside a ."+c+" element. Will not add control UI")}))})),webshims.register("mediacontrols",(function(e,t,i){"use strict";var a=t.cfg.mediaelement.jme,s=a.selector,r=e.jme,n='<button class="{%class%}" type="button" aria-label="{%text%}"></button>',o='<div class="{%class%} media-range" aria-label="{%text%}"></div>',l='<div  class="{%class%}">00:00</div>',d=function(){var e,t="";if(i.Audio)try{(e=new Audio).volume=.55,t=Math.round(100*e.volume)/100==.55?"":" no-volume-api"}catch(e){}return t}(),c=function(){var e={},i=/\{\{(.+?)\}\}/gim;return function(s,n){return s||(s=a.barTemplate),(!e[s]||n)&&(e[s]=s.replace(i,(function(e,i){var a=r.plugins[i];return a?(a.structure||(t.warn("no structure option provided for plugin: "+i+". Fallback to standard div"),a.structure='<div class="{%class%}"></div>'),a.structure.replace("{%class%}",i).replace("{%text%}",a.text||"")):e}))),e[s]||""}}(),p=/iP(hone|od|ad)/i.test(navigator.platform),u=p&&parseInt((navigator.appVersion.match(/OS (\d+)_\d+/)||["","8"])[1],10)<7,m=i.Modernizr,h=!(m&&m.videoautoplay||!p&&!/android/i.test(navigator.userAgent)),f=function(){f.loaded||(f.loaded=!0,t.loader.loadList(["mediacontrols-lazy","range-ui"]))},y=function(i){i||(i="_create");var a=function(s,r){var n=this,o=arguments;f(),t.ready("mediacontrols-lazy",(function(){return a!=n[i]&&e.data(r[0])?n[i].apply(n,o):void t.error("stop too much recursion")}))};return a};t.loader.addModule("mediacontrols-lazy",{src:"jme/mediacontrols-lazy",d:["dom-support"]});var g={_create:y()};r.plugins.useractivity=g,r.defineProp("controlbar",{set:function(s,n){n=!!n;var o,l,d=r.data(s),p=e("div.jme-mediaoverlay, div.jme-controlbar",d.player),m="";if(n&&!p[0])if(d._controlbar)d._controlbar.appendTo(d.player);else{u&&(d.media.removeAttr("controls"),d.media.mediaLoad()),h&&d.player.addClass("has-yt-bug"),d.media.prop("controls",!1),m=c(),d._controlbar=e(a.barStructure),p=d._controlbar.find("div.jme-cb-box").addClass("media-controls"),o=(o=d._controlbar.filter(".jme-media-overlay")).add(p),e(m).appendTo(p),d._controlbar.appendTo(d.player),d.player.jmeFn("addControls",o),l=function(){var e={},t=[{size:290,name:"xx-small",names:"s xs xxs"},{size:380,name:"x-small",names:"s xs"},{size:478,name:"small",names:"s"},{size:756,name:"medium",names:"m"},{size:1024,name:"large",names:"l"},{size:Number.MAX_VALUE,name:"x-large",names:"l xl"}],i=t.length;return function(){var a,s=0,r=d.player.outerWidth();for(r*=16/Math.max(parseInt(d.player.css("fontSize"),10)||16,13);i>s;s++)if(t[s].size>=r){a=t[s];break}e.name!=a.name&&(e=a,d.player.attr("data-playersize",a.name),d.player.attr("data-playersizes",a.names))}}();var f=e('<div class="ws-poster" />').insertAfter(d.media),y=function(){var e,t,a,s,r=i.swfmini&&swfmini.hasFlashPlayerVersion("10.0.3"),n=/youtube\.com\/[watch\?|v\/]+/i,o=d.media.prop("paused"),l=d.media.prop("ended");return o&&d.player.addClass("initial-state"),l&&d.player.addClass("ended-state"),"backgroundSize"in f[0].style||d.player.addClass("no-backgroundsize"),d.media.on("play playing waiting seeked seeking",(function(e){e||(e.type="playing"),!o||s&&h&&"playing"!=e.type&&!d.media.prop("readyState")&&!d.media.prop("networkState")||(o=!1,d.player.removeClass("initial-state")),l&&(l=!1,d.player.removeClass("ended-state"))})),d.media.on("ended",(function(){l||d.media.prop("loop")||!d.media.prop("ended")||(l=!0,d.player.addClass("ended-state"))})),function(){var i,c=d.media.attr("poster"),p=!!c,u=d.media.prop("currentSrc")||"";s=n.test(u),i=(!r||!p)&&s,!p&&s&&(c=u.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i)||"")&&(p=!!(c="https://img.youtube.com/vi/"+c[1]+"/0.jpg")),a!==c&&(a=c,f[0].style.backgroundImage=c?"url("+c+")":""),e!==p&&(e=p,d.player[p?"removeClass":"addClass"]("no-poster")),d.media.prop("paused")&&(d.player.addClass("initial-state"),o=!0),l&&(l=!1,d.player.removeClass("ended-state")),d.player[s?"addClass":"removeClass"]("yt-video"),t!==i&&(t=i,d.player[i?"addClass":"removeClass"]("has-ytposter"))}}();g._create(d.player,d.media,d.player),d.media.on("emptied loadstart",(function(){setTimeout(y)})),l(),y(),t.ready("dom-support",(function(){d.player.onWSOff("updateshadowdom",l),o.add(d._controlbar).add(f).addClass(t.shadowClass),t.addShadowDom()}))}else n||p.detach();return n}}),r.registerPlugin("play-pause",{structure:n,text:"play / pause",_create:y()}),r.registerPlugin("mute-unmute",{structure:n,text:"mute / unmute",_create:y()}),r.registerPlugin("jme-media-overlay",{_create:y()}),r.registerPlugin("volume-slider",{structure:o,text:"volume level",_create:y()}),r.registerPlugin("time-slider",{structure:o,options:{format:["mm","ss"]},text:"time position",_create:y()}),r.defineProp("format",{set:function(t,i){e.isArray(i)||(i=i.split(":"));var a=r.data(t);return a.format=i,e(t).triggerHandler("updatetimeformat"),a.player.triggerHandler("updatetimeformat"),"noDataSet"}}),r.registerPlugin("duration-display",{structure:l,options:{format:"mm:ss"},_create:y()}),r.defineProp("countdown",{set:function(t,i){var a=r.data(t);return a.countdown=!!i,e(t).triggerHandler("updatetimeformat"),a.player.triggerHandler("updatetimeformat"),"noDataSet"}}),r.registerPlugin("currenttime-display",{structure:l,options:{format:"mm:ss",countdown:!1},_create:y()}),r.registerPlugin("poster-display",{structure:"<div />",options:{},_create:y()}),r.registerPlugin("fullscreen",{options:{fullscreen:!0,autoplayfs:!1},structure:n,text:"enter fullscreen / exit fullscreen",_create:y()}),r.registerPlugin("mediaconfigmenu",{structure:n,text:"configuration",_create:y()}),r.registerPlugin("captions",{structure:n,text:"subtitles",_create:function(t,i,a){var s=i.find("track").filter(':not([kind]), [kind="subtitles"], [data-kind="subtitles"], [kind="captions"], [data-kind="captions"]');t.wsclonedcheckbox=e(t).clone().attr({role:"checkbox"}).insertBefore(t),a.attr("data-tracks",s.length>1?"many":s.length),t.attr("aria-haspopup","true"),y().apply(this,arguments)}}),r.registerPlugin("chapters",{structure:n,text:"chapters",_create:function(e,i,a){var s=i.find("track").filter('[kind="chapters"], [data-kind="chapters"]');e.attr("aria-haspopup","true"),s.length&&(t._polyfill(["track"]),a.addClass("has-chapter-tracks")),y().apply(this,arguments)}}),t.ready(t.cfg.mediaelement.plugins.concat(["mediaelement","jme-base"]),(function(){a.barTemplate||(a.barTemplate='<div class="play-pause-container">{{play-pause}}</div><div class="playlist-container"><div class="playlist-box"><div class="playlist-button-container">{{playlist-prev}}</div><div class="playlist-button-container">{{playlist-next}}</div></div></div><div class="currenttime-container">{{currenttime-display}}</div><div class="progress-container">{{time-slider}}</div><div class="duration-container">{{duration-display}}</div><div class="mute-container">{{mute-unmute}}</div><div class="volume-container">{{volume-slider}}</div><div class="chapters-container"><div class="chapters-controls mediamenu-wrapper">{{chapters}}</div></div><div class="subtitle-container mediamenu-wrapper"><div class="subtitle-controls">{{captions}}</div></div><div class="mediaconfig-container"><div class="mediaconfig-controls mediamenu-wrapper">{{mediaconfigmenu}}</div></div><div class="fullscreen-container">{{fullscreen}}</div>'),a.barStructure||(a.barStructure='<div class="jme-media-overlay"></div><div class="jme-controlbar'+d+'" tabindex="-1"><div class="jme-cb-box"></div></div>'),t.addReady((function(t,i){e(s,t).add(i.filter(s)).jmeProp("controlbar",!0)}))})),t.ready("WINDOWLOAD",f)})),webshims.ready("jme-base DOM",(function(){"use strict";function e(e){this._data=e,this.lists={},this.on("showcontrolschange",this._updateControlsClass)}function t(e,i,a){this.list=e||[],this.playlists=i,this.media=i._data.media,this.player=i._data.player,this.options=o.extend(!0,{},t.defaults,a),this.options.itemTmpl=this.options.itemTmpl.trim(),this.deferred=o.Deferred(),this._selectedIndex=-1,this._selectedItem=null,this.$rendered=null,this._detectListType(),this.autoplay(this.options.autoplay),this.deferred.done((function(){this._addEvents(this),"auto"!=this.options.defaultSelected||this.media.jmeProp("srces").length||(this.options.defaultSelected=0),this.list[this.options.defaultSelected]&&this.selectedIndex(this.options.defaultSelected),this._fire("addlist")}))}function i(e){return e.description=e.description||e.content,e.srces=[],(e.mediaGroups||[]).forEach((function(t){(t.contents||[]).forEach((function(t){t.src=t.src||t.url,e.srces.push(t)}))})),e}function a(){return{src:o.attr(this,"href"),srclang:o.attr(this,"lang"),label:o.attr(this,"data-label")}}function s(){return{src:o.attr(this,"url")||o.attr(this,"href"),type:o.attr(this,"type")}}function r(){return 1==this.nodeType}var n=window.webshims,o=n.$,l=o.jme,d=0;o.extend(e.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_getListId:function(e){return"string"==typeof e?e:e.id},_updateControlsClass:function(){this._data.player[this.getShowcontrolsList()?"addClass":"removeClass"]("has-playlist")},add:function(e,i){return(e=new t(e,this,i)).id||(d++,e.id="list-"+d),this.lists[e.id]=e,e.options.showcontrols&&this._data.player.addClass("has-playlist"),e},remove:function(e){var t=this._getListId(e);this.lists[t]&&(this.lists[t]._remove(),delete this.lists[t]),this.getShowcontrolsList()||this._data.player.removeClass("has-playlist")},getAutoplayList:function(){var e=null;return o.each(this.lists,(function(t,i){return i.options.autoplay?(e=i,!1):void 0})),e},getShowcontrolsList:function(){var e=null;return o.each(this.lists,(function(t,i){return i.options.showcontrols?(e=i,!1):void 0})),e}}),t.getText=function(e){return e.attr("content")||(e.text()||"").trim()},t.getUrl=function(e){return e.attr("content")||e.attr("url")||e.attr("href")||e.attr("src")||(e.text()||"").trim()},t.defaults={loop:!1,autoplay:!1,defaultSelected:"auto",addItemEvents:!0,showcontrols:!0,ajax:{},itemTmpl:'<li class="list-item"><% if(typeof poster == "string" && poster) {%><img src="<%=poster%>" /><% }%><h3><%=title%></h3><% if(typeof description == "string" && description) {%><div class="item-description"><%=description%></div><% }%></li>',renderer:function(e,t){return o.jme.tmpl(t,e)},mapDom:function(e){return{title:t.getText(o('[itemprop="name"], h1, h2, h3, h4, h5, h6, a',e)),srces:o('[itemprop="contentUrl"], a[type^="video"], a[type^="audio"]',e).map((function(){var i,a={src:t.getUrl(o(this))};return(i="a"==this.nodeName.toLowerCase()?o.prop(this,"type"):t.getText(o('[itemprop="encodingFormat"]',e)))&&(a.type=i),(i=o.attr(this,"data-media"))&&(a.media=i),a})).get(),tracks:o('a[type="text/vtt"]').map(a).get(),poster:t.getUrl(o('[itemprop="thumbnailUrl"], a[type^="image"], img',e))||null,description:t.getText(o('[itemprop="description"], .item-description, p',e))||null}},mapUrl:function(e,r){o.ajax(o.extend(e,{success:function(e){var n;o.isArray(e)?n=e:e.responseData&&e.responseData.feed?(e=e.responseData.feed,n=(e.entries||[]).map(i)):(n=[],o("item",e).each((function(){var e=o("enclosure, media\\:content",this).filter('[type^="video"], [type^="audio"]').map(s).get();e.length&&n.push({title:o("title",this).html(),srces:e,publishedDate:o("pubDate",this).html()||null,description:o("description",this).text()||null,poster:t.getUrl(o('itunes\\:image, media\\:thumbnail, enclosure[type^="image"], media\\:content[type^="image"]',this))||null,author:o("itunes\\:author",this).html()||null,duration:o("itunes\\:duration",this).html()||null,tracks:o("media\\:subTitle",this).map(a).get()||null})}))),n!=e&&(n.fullData=e),r(n)}}))}},o.extend(t.prototype,{on:function(){o.fn.on.apply(o(this),arguments)},off:function(){o.fn.off.apply(o(this),arguments)},_detectListType:function(){var e;return"string"==typeof this.list?void this._createListFromUrl():(this.list.nodeName||this.list.length>0&&this.list[0].nodeName?this._createListFromDom():this.list.responseData&&this.list.responseData.feed&&(e=this.list.responseData.feed,this.list=(e.entries||[]).map(i),this.list.fullData=e),void this.deferred.resolveWith(this))},_createListFromUrl:function(){var e=this;this.options.ajax.url=this.list,this.options.mapUrl(this.options.ajax,(function(t){e.list=t,e.deferred.resolveWith(e)}))},_createListFromDom:function(){var e=this;this.$rendered=o(this.list).eq(0),this.list=[],this.$rendered&&(this._addDomList(),this.list=this.$rendered.children().map((function(){return e._createItemFromDom(this)})).get())},_createItemFromDom:function(e){var t=this.options.mapDom(e);return this._addItemData(t,e),t},_fire:function(e,t){e=o.Event(e),o(this).triggerHandler(e,t),o(this.playlists).triggerHandler(e,o.merge([{list:this}],t||[])),this.$rendered&&this.$rendered.triggerHandler(e,t)},_addDomList:function(){this.$rendered.attr({"data-autoplay":this.options.autoplay,"data-loop":this.options.loop}).addClass("media-playlist").data("playlist",this)},_addItemData:function(e,t){var i=this;e.$item=o(t).data("itemData",e),e==this._selectedItem&&e.$item.addClass("selected-item"),this.options.addItemEvents&&e.$item.on("click.playlist",(function(t){return i.options.addItemEvents?(i.playItem(e,t),!1):void 0}))},_addEvents:function(e){var t=e.options,i=function(i){t.autoplay&&e.playNext(i)};this.media.on("ended",i),this._remove=function(){e.media.off("ended",i),e.autoplay(!1),e.$rendered&&e.$rendered.remove(),e._fire("removelist")}},_remove:function(){this._fire("removelist")},render:function(e){this.$rendered?e(this.$rendered,this.player,this):this.deferred.done((function(){var t=this,i=[];if(!this.$rendered){switch(o.each(this.list,(function(e,a){var s=o(o.parseHTML(t.options.renderer(a,t.options.itemTmpl))).filter(r)[0];t._addItemData(a,s),i.push(s)})),(i[0]&&i[0].nodeName||"").toLowerCase()){case"li":this.$rendered=o.parseHTML("<ul />");break;case"option":this.$rendered=o.parseHTML("<select />");break;default:this.$rendered=o.parseHTML("<div />")}this.$rendered=o(this.$rendered).html(i),this._addDomList()}e(this.$rendered,this.player,this)}))},_loadItem:function(e){var t=this.media;t.attr("poster",e.poster||""),o("track",t).remove(),o.each(e.tracks||[],(function(e,i){o("<track />").attr(i).appendTo(t)})),e.srces||(e.srces=e),t.jmeProp("srces",e.srces)},_getItem:function(e){return e&&(e.nodeName||e.jquery||"string"==typeof e)&&(e=o(e).data("itemData")),e},playItem:function(e,t){var i;this.selectedItem(e,t),e&&(i=this.media.play(),setTimeout((function(){i.play()}),9))},selectedIndex:function(e,t){return arguments.length?void this.selectedItem(this.list[e],t):this._selectedIndex},selectedItem:function(e,t){var i,a;return arguments.length?(a=-1,(e=this._getItem(e))&&o.each(this.list,(function(t){return e==this?(a=t,!1):void 0})),a>=0&&this._loadItem(this.list[a]),void(a!=this._selectedIndex&&(i=this._selectedItem||null,i&&i.$item&&i.$item.removeClass("selected-item"),this._selectedItem=this.list[a]||null,this._selectedIndex=a,this._selectedItem&&this._selectedItem.$item&&this._selectedItem.$item.addClass("selected-item"),i!==this._selectedItem&&this._fire("itemchange",[{oldItem:i,from:t||null}])))):this._selectedItem},playNext:function(){var e=this.getNext();e&&this.playItem(e)},playPrev:function(){var e=this.getPrev();e&&this.playItem(e)},getNext:function(){var e=this._selectedIndex+1;return this.list[e]||(this.options.loop?this.list[0]:null)},getPrev:function(){var e=this._selectedIndex-1;return this.list[e]||(this.options.loop?this.list[this.list.length-1]:null)}}),[{name:"autoplay",fn:"getAutoplayList"},{name:"showcontrols",fn:"getShowcontrolsList"},{name:"loop"}].forEach((function(e){t.prototype[e.name]=function(t){var i;return arguments.length?((t=!!t)&&e.fn&&(i=this.playlists[e.fn]())&&i!=this&&i[e.name](!1),void(this.options[e.name]!=t&&(this.options[e.name]=t,this.$rendered&&this.$rendered.attr("data-"+e.name,t),this._fire(e.name+"change")))):this.options[e.name]}})),l.defineProp("playlists",{writable:!1,get:function(t){var i=o.jme.data(t);return t!=i.player[0]?null:(i.playlists||(i.playlists=new e(i)),i.playlists)}}),l.defineMethod("addPlaylist",(function(e,t){var i=o.jme.prop(this,"playlists");return i&&i.add?i.add(e,t):null})),[{name:"playlist-prev",text:"previous",get:"getPrev",play:"playPrev"},{name:"playlist-next",text:"next",get:"getNext",play:"playNext"}].forEach((function(e){o.jme.registerPlugin(e.name,{structure:'<button class="{%class%}" type="button" aria-label="{%text%}"></button>',text:e.text,_create:function(t,i,a){function s(){var i=n[e.get]();t.prop(i?{disabled:!1,title:i.title}:{disabled:!0,title:""})}function r(){var e=o.getShowcontrolsList();e!=n&&(n&&n.off("itemchange",s),(n=e)&&(n.on("itemchange",s),s()))}var n,o=a.jmeProp("playlists");t.on("click",(function(){n&&n[e.play]()})),o.on({"addlist removelist showcontrolschange":r}),r()}})})),function(){var e={};o.jme.tmpl=function(t,i){return e[t]||(e[t]=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');")),i?e[t](i):e[t]}}(),o.jme.Playlist=t,n.isReady("playlist",!0)}));